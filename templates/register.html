<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hospital Management System - Register</title>
    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/register.css')}}">
</head>
<body>
<div class="full-screen"><div class="loader-circle-2"></div></div>
<div class="register-container">
    <h2>Register Patient</h2>
    <form method="post" action="/register" enctype="multipart/form-data">
        <input type="text" name="fullname" placeholder="Full Name" value="{{ form.fullname or '' }}" required>
        {% if errors and 'fullname' in errors %}<div class="error">{{ errors['fullname'] }}</div>{% endif %}

        <input type="email" name="email" placeholder="Email" value="{{ form.email or '' }}" required>
        {% if errors and 'email' in errors %}<div class="error">{{ errors['email'] }}</div>{% endif %}

        <input type="password" name="password" placeholder="Password" value="{{ form.password or '' }}" required>
        {% if errors and 'password' in errors %}<div class="error">{{ errors['password'] }}</div>{% endif %}

        <input type="text" name="phone" placeholder="Phone Number" value="{{ form.phone or '' }}" required>
        {% if errors and 'phone' in errors %}<div class="error">{{ errors['phone'] }}</div>{% endif %}

        <div class="form-group">
            <label class="label">Gender:</label>
            <input type="radio" id="male" name="gender" value="Male" {% if form.gender == 'Male' %}checked{% endif %} required><label for="male">Male</label>
            <input type="radio" id="female" name="gender" value="Female" {% if form.gender == 'Female' %}checked{% endif %}><label for="female">Female</label>
            <input type="radio" id="other" name="gender" value="Other" {% if form.gender == 'Other' %}checked{% endif %}><label for="other">Other</label>
        </div>
        {% if errors and 'gender' in errors %}<div class="error">{{ errors['gender'] }}</div>{% endif %}

        <input type="date" name="dob" value="{{ form.dob or '' }}" required>
        {% if errors and 'dob' in errors %}<div class="error">{{ errors['dob'] }}</div>{% endif %}

        <input type="file" name="image" >
        {% if errors and 'image' in errors %}<div class="error">{{ errors['image'] }}</div>{% endif %}

        <textarea name="address" placeholder="Address" rows="3" required>{{ form.address or '' }}</textarea>
        {% if errors and 'address' in errors %}<div class="error">{{ errors['address'] }}</div>{% endif %}

        <select name="blood_group" required>
            <option value="">-- Select Blood Group --</option>
            <option value="A+" {% if form.blood_group == 'A+' %}selected{% endif %}>A+</option>
            <option value="A-" {% if form.blood_group == 'A-' %}selected{% endif %}>A-</option>
            <option value="B+" {% if form.blood_group == 'B+' %}selected{% endif %}>B+</option>
            <option value="B-" {% if form.blood_group == 'B-' %}selected{% endif %}>B-</option>
            <option value="O+" {% if form.blood_group == 'O+' %}selected{% endif %}>O+</option>
            <option value="O-" {% if form.blood_group == 'O-' %}selected{% endif %}>O-</option>
            <option value="AB+" {% if form.blood_group == 'AB+' %}selected{% endif %}>AB+</option>
            <option value="AB-" {% if form.blood_group == 'AB-' %}selected{% endif %}>AB-</option>
        </select>
        {% if errors and 'blood_group' in errors %}
            <div class="error">{{ errors['blood_group'] }}</div>
        {% endif %}


        <input type="text" name="emergency_contact" placeholder="Emergency Contact" value="{{ form.emergency_contact or '' }}" required>
        {% if errors and 'emergency_contact' in errors %}<div class="error">{{ errors['emergency_contact'] }}</div>{% endif %}

        <button type="submit">Register Patient</button>
        <p>Already have an account? <a href="/login">Login</a></p>
        <p>Want to register as a doctor instead? <a href="/doctor-register">Register as Doctor</a></p>
    </form>
</div>

<script src= "{{ url_for('static', filename ='js/myScript.js') }}"></script>
</body>
</html>
